{"ast":null,"code":"var _jsxFileName = \"D:\\\\rikkei\\\\bearcle\\\\React Typescript\\\\react-ts-file\\\\src\\\\components\\\\Canvas\\\\Canvas.tsx\",\n  _s = $RefreshSig$();\nimport React, { useCallback, useEffect, useState } from \"react\";\nimport { useDraggable } from \"../../contexts/DraggableContext\";\nimport Draggable from \"react-draggable\";\nimport DocViewer, { DocViewerRenderers } from \"@cyntler/react-doc-viewer\";\nimport { DraggableItem } from \"../Generals/DraggableItem\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n// import html2canvas from \"html2canvas\";\nconst DocumentViewer = /*#__PURE__*/React.memo(_c = ({\n  uri,\n  isDragging\n}) => {\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"pdf\",\n    style: {\n      height: \"600px\",\n      width: \"100%\",\n      overflow: \"hidden\",\n      position: \"relative\"\n    },\n    children: [/*#__PURE__*/_jsxDEV(DocViewer, {\n      documents: [{\n        uri: uri,\n        fileType: uri.substring(uri.length - 6).split(\".\").pop(),\n        fileName: \"remote \" + uri.substring(uri.length - 6).split(\".\").pop() + \" file\"\n      }],\n      pluginRenderers: DocViewerRenderers,\n      theme: {\n        primary: \"#5296d8\",\n        secondary: \"#ffffff\",\n        tertiary: \"#5296d899\",\n        textPrimary: \"#ffffff\",\n        textSecondary: \"#5296d8\",\n        textTertiary: \"#00000099\",\n        disableThemeScrollbar: true\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 26,\n      columnNumber: 9\n    }, this), isDragging && /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        position: \"absolute\",\n        top: 0,\n        left: 0,\n        right: 0,\n        bottom: 0,\n        backgroundColor: \"rgba(255, 255, 255, 0.5)\",\n        zIndex: 1000\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 11\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 17,\n    columnNumber: 7\n  }, this);\n});\n_c2 = DocumentViewer;\nconst Shapes = /*#__PURE__*/React.memo(_c3 = ({\n  canvasItems,\n  setSelectedShapeId,\n  selectedShapeId,\n  updatePosition,\n  handleDragStart,\n  handleDragEnd\n}) => {\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: canvasItems.map(item => /*#__PURE__*/_jsxDEV(Draggable, {\n      position: {\n        x: item.position.x,\n        y: item.position.y\n      },\n      onStart: handleDragStart,\n      onStop: (e, data) => {\n        handleDragEnd();\n        updatePosition(item.id, {\n          x: data.x,\n          y: data.y\n        });\n      },\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        \"data-source\": \"library\",\n        style: {\n          position: \"fixed\",\n          top: item.position.y,\n          left: item.position.x\n        },\n        onClick: e => {\n          e.stopPropagation();\n          setSelectedShapeId(item.id);\n        },\n        children: /*#__PURE__*/_jsxDEV(DraggableItem, {\n          type: item.type,\n          id: item.id,\n          isSelected: selectedShapeId === item.id,\n          style: {\n            position: \"absolute\"\n          },\n          text: item.text || \"\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 112,\n          columnNumber: 15\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 100,\n        columnNumber: 13\n      }, this)\n    }, item.id, false, {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 11\n    }, this))\n  }, void 0, false);\n});\n_c4 = Shapes;\nexport const Canvas = () => {\n  _s();\n  const {\n    canvasItems: initialCanvasItems,\n    addItemToCanvas,\n    undoCanvasAction,\n    uri\n  } = useDraggable();\n  const [canvasItems, setCanvasItems] = useState(initialCanvasItems);\n  const [selectedShapeId, setSelectedShapeId] = useState(null);\n  const [isDraggingFromLibrary, setIsDraggingFromLibrary] = useState(false);\n  const [isMovingShape, setIsMovingShape] = useState(false);\n  const handleDrop = useCallback(e => {\n    e.preventDefault();\n    const type = e.dataTransfer.getData(\"type\");\n    const source = e.dataTransfer.getData(\"source\");\n    const canvasRect = e.currentTarget.getBoundingClientRect();\n    const position = {\n      x: e.clientX - canvasRect.left,\n      y: e.clientY - canvasRect.top\n    };\n    if (source === \"library\") {\n      addItemToCanvas({\n        type,\n        id: Date.now(),\n        isSelected: false\n      }, position);\n    }\n  }, [addItemToCanvas]);\n  const handleDragStart = useCallback(e => {\n    const target = e.target;\n    if (target.getAttribute(\"data-source\") === \"library\") {\n      setIsDraggingFromLibrary(true);\n      setIsMovingShape(false);\n    } else {\n      setIsMovingShape(true);\n      setIsDraggingFromLibrary(false);\n    }\n  }, []);\n  const handleDragEnd = useCallback(() => {\n    setIsDraggingFromLibrary(false);\n    setIsMovingShape(false);\n  }, []);\n  const handleDragOver = useCallback(e => {\n    e.preventDefault();\n  }, []);\n  useEffect(() => {\n    setCanvasItems(initialCanvasItems);\n  }, [initialCanvasItems]);\n  useEffect(() => {\n    const handleKeyDown = event => {\n      if (event.key === \"Delete\" && selectedShapeId !== null) {\n        setCanvasItems(prevItems => prevItems.filter(item => item.id !== selectedShapeId));\n        setSelectedShapeId(null);\n      }\n      if (event.ctrlKey && event.key === \"z\") {\n        undoCanvasAction();\n      }\n    };\n    window.addEventListener(\"keydown\", handleKeyDown);\n    return () => window.removeEventListener(\"keydown\", handleKeyDown);\n  }, [selectedShapeId, undoCanvasAction]);\n  const updatePosition = (id, position) => {\n    setCanvasItems(prevItems => {\n      const itemToUpdate = prevItems.find(i => i.id === id);\n      if (itemToUpdate && (itemToUpdate.position.x !== position.x || itemToUpdate.position.y !== position.y)) {\n        return prevItems.map(i => i.id === id ? {\n          ...i,\n          position\n        } : i);\n      }\n      return prevItems;\n    });\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    onDrop: handleDrop,\n    onDragOver: handleDragOver,\n    onClick: () => setSelectedShapeId(null),\n    style: {\n      border: \"1px solid black\",\n      minHeight: \"900px\",\n      position: \"relative\"\n    },\n    children: [/*#__PURE__*/_jsxDEV(Shapes, {\n      canvasItems: canvasItems,\n      setSelectedShapeId: setSelectedShapeId,\n      selectedShapeId: selectedShapeId,\n      updatePosition: updatePosition,\n      handleDragStart: handleDragStart,\n      handleDragEnd: handleDragEnd\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 220,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(DocumentViewer, {\n      uri: uri,\n      isDragging: isDraggingFromLibrary\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 228,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 210,\n    columnNumber: 5\n  }, this);\n};\n_s(Canvas, \"wMaf/a6o0QjyFlY5cs+qnUss36I=\", false, function () {\n  return [useDraggable];\n});\n_c5 = Canvas;\nvar _c, _c2, _c3, _c4, _c5;\n$RefreshReg$(_c, \"DocumentViewer$React.memo\");\n$RefreshReg$(_c2, \"DocumentViewer\");\n$RefreshReg$(_c3, \"Shapes$React.memo\");\n$RefreshReg$(_c4, \"Shapes\");\n$RefreshReg$(_c5, \"Canvas\");","map":{"version":3,"names":["React","useCallback","useEffect","useState","useDraggable","Draggable","DocViewer","DocViewerRenderers","DraggableItem","jsxDEV","_jsxDEV","Fragment","_Fragment","DocumentViewer","memo","_c","uri","isDragging","className","style","height","width","overflow","position","children","documents","fileType","substring","length","split","pop","fileName","pluginRenderers","theme","primary","secondary","tertiary","textPrimary","textSecondary","textTertiary","disableThemeScrollbar","_jsxFileName","lineNumber","columnNumber","top","left","right","bottom","backgroundColor","zIndex","_c2","Shapes","_c3","canvasItems","setSelectedShapeId","selectedShapeId","updatePosition","handleDragStart","handleDragEnd","map","item","x","y","onStart","onStop","e","data","id","onClick","stopPropagation","type","isSelected","text","_c4","Canvas","_s","initialCanvasItems","addItemToCanvas","undoCanvasAction","setCanvasItems","isDraggingFromLibrary","setIsDraggingFromLibrary","isMovingShape","setIsMovingShape","handleDrop","preventDefault","dataTransfer","getData","source","canvasRect","currentTarget","getBoundingClientRect","clientX","clientY","Date","now","target","getAttribute","handleDragOver","handleKeyDown","event","key","prevItems","filter","ctrlKey","window","addEventListener","removeEventListener","itemToUpdate","find","i","onDrop","onDragOver","border","minHeight","_c5","$RefreshReg$"],"sources":["D:/rikkei/bearcle/React Typescript/react-ts-file/src/components/Canvas/Canvas.tsx"],"sourcesContent":["import React, {\r\n  useCallback,\r\n  useEffect,\r\n  useState,\r\n  useMemo,\r\n  useRef,\r\n} from \"react\";\r\nimport { useDraggable } from \"../../contexts/DraggableContext\";\r\nimport Draggable from \"react-draggable\";\r\nimport DocViewer, { DocViewerRenderers } from \"@cyntler/react-doc-viewer\";\r\nimport { DraggableItem } from \"../Generals/DraggableItem\";\r\nimport { ShapeType } from \"../../contexts/DraggableContext\";\r\n// import html2canvas from \"html2canvas\";\r\nconst DocumentViewer = React.memo(\r\n  ({ uri, isDragging }: { uri: string; isDragging: boolean }) => {\r\n    return (\r\n      <div\r\n        className=\"pdf\"\r\n        style={{\r\n          height: \"600px\",\r\n          width: \"100%\",\r\n          overflow: \"hidden\",\r\n          position: \"relative\",\r\n        }}\r\n      >\r\n        <DocViewer\r\n          documents={[\r\n            {\r\n              uri: uri,\r\n              fileType: uri\r\n                .substring(uri.length - 6)\r\n                .split(\".\")\r\n                .pop(),\r\n              fileName:\r\n                \"remote \" +\r\n                uri\r\n                  .substring(uri.length - 6)\r\n                  .split(\".\")\r\n                  .pop() +\r\n                \" file\",\r\n            },\r\n          ]}\r\n          pluginRenderers={DocViewerRenderers}\r\n          theme={{\r\n            primary: \"#5296d8\",\r\n            secondary: \"#ffffff\",\r\n            tertiary: \"#5296d899\",\r\n            textPrimary: \"#ffffff\",\r\n            textSecondary: \"#5296d8\",\r\n            textTertiary: \"#00000099\",\r\n            disableThemeScrollbar: true,\r\n          }}\r\n        />\r\n        {isDragging && (\r\n          <div\r\n            style={{\r\n              position: \"absolute\",\r\n              top: 0,\r\n              left: 0,\r\n              right: 0,\r\n              bottom: 0,\r\n              backgroundColor: \"rgba(255, 255, 255, 0.5)\",\r\n              zIndex: 1000,\r\n            }}\r\n          ></div>\r\n        )}\r\n      </div>\r\n    );\r\n  }\r\n);\r\n\r\nconst Shapes = React.memo(\r\n  ({\r\n    canvasItems,\r\n    setSelectedShapeId,\r\n    selectedShapeId,\r\n    updatePosition,\r\n    handleDragStart,\r\n    handleDragEnd,\r\n  }: {\r\n    canvasItems: any[];\r\n    setSelectedShapeId: any;\r\n    selectedShapeId: number | null;\r\n    updatePosition: any;\r\n    handleDragStart: any;\r\n    handleDragEnd: any;\r\n  }) => {\r\n    return (\r\n      <>\r\n        {canvasItems.map((item) => (\r\n          <Draggable\r\n            key={item.id}\r\n            position={{ x: item.position.x, y: item.position.y }}\r\n            onStart={handleDragStart}\r\n            onStop={(e, data) => {\r\n              handleDragEnd();\r\n              updatePosition(item.id, { x: data.x, y: data.y });\r\n            }}\r\n          >\r\n            <div\r\n              data-source=\"library\"\r\n              style={{\r\n                position: \"fixed\",\r\n                top: item.position.y,\r\n                left: item.position.x,\r\n              }}\r\n              onClick={(e) => {\r\n                e.stopPropagation();\r\n                setSelectedShapeId(item.id);\r\n              }}\r\n            >\r\n              <DraggableItem\r\n                type={item.type}\r\n                id={item.id}\r\n                isSelected={selectedShapeId === item.id}\r\n                style={{ position: \"absolute\" }}\r\n                text={item.text || \"\"}\r\n              />\r\n            </div>\r\n          </Draggable>\r\n        ))}\r\n      </>\r\n    );\r\n  }\r\n);\r\n\r\nexport const Canvas = () => {\r\n  const {\r\n    canvasItems: initialCanvasItems,\r\n    addItemToCanvas,\r\n    undoCanvasAction,\r\n    uri,\r\n  } = useDraggable();\r\n  const [canvasItems, setCanvasItems] = useState(initialCanvasItems);\r\n  const [selectedShapeId, setSelectedShapeId] = useState<number | null>(null);\r\n  const [isDraggingFromLibrary, setIsDraggingFromLibrary] = useState(false);\r\n  const [isMovingShape, setIsMovingShape] = useState(false);\r\n\r\n  const handleDrop = useCallback(\r\n    (e: React.DragEvent<HTMLDivElement>) => {\r\n      e.preventDefault();\r\n      const type = e.dataTransfer.getData(\"type\") as ShapeType;\r\n      const source = e.dataTransfer.getData(\"source\");\r\n      const canvasRect = e.currentTarget.getBoundingClientRect();\r\n      const position = {\r\n        x: e.clientX - canvasRect.left,\r\n        y: e.clientY - canvasRect.top,\r\n      };\r\n      if (source === \"library\") {\r\n        addItemToCanvas({ type, id: Date.now(), isSelected: false }, position);\r\n      }\r\n    },\r\n    [addItemToCanvas]\r\n  );\r\n  const handleDragStart = useCallback((e: React.DragEvent) => {\r\n    const target = e.target as HTMLElement;\r\n    if (target.getAttribute(\"data-source\") === \"library\") {\r\n      setIsDraggingFromLibrary(true);\r\n      setIsMovingShape(false);\r\n    } else {\r\n      setIsMovingShape(true);\r\n      setIsDraggingFromLibrary(false);\r\n    }\r\n  }, []);\r\n\r\n  const handleDragEnd = useCallback(() => {\r\n    setIsDraggingFromLibrary(false);\r\n    setIsMovingShape(false);\r\n  }, []);\r\n\r\n  const handleDragOver = useCallback((e: React.DragEvent<HTMLDivElement>) => {\r\n    e.preventDefault();\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    setCanvasItems(initialCanvasItems);\r\n  }, [initialCanvasItems]);\r\n\r\n  useEffect(() => {\r\n    const handleKeyDown = (event: KeyboardEvent) => {\r\n      if (event.key === \"Delete\" && selectedShapeId !== null) {\r\n        setCanvasItems((prevItems) =>\r\n          prevItems.filter((item) => item.id !== selectedShapeId)\r\n        );\r\n        setSelectedShapeId(null);\r\n      }\r\n      if (event.ctrlKey && event.key === \"z\") {\r\n        undoCanvasAction();\r\n      }\r\n    };\r\n    window.addEventListener(\"keydown\", handleKeyDown);\r\n    return () => window.removeEventListener(\"keydown\", handleKeyDown);\r\n  }, [selectedShapeId, undoCanvasAction]);\r\n\r\n  const updatePosition = (id: number, position: { x: number; y: number }) => {\r\n    setCanvasItems((prevItems) => {\r\n      const itemToUpdate = prevItems.find((i) => i.id === id);\r\n      if (\r\n        itemToUpdate &&\r\n        (itemToUpdate.position.x !== position.x ||\r\n          itemToUpdate.position.y !== position.y)\r\n      ) {\r\n        return prevItems.map((i) => (i.id === id ? { ...i, position } : i));\r\n      }\r\n      return prevItems;\r\n    });\r\n  };\r\n\r\n  return (\r\n    <div\r\n      onDrop={handleDrop}\r\n      onDragOver={handleDragOver}\r\n      onClick={() => setSelectedShapeId(null)}\r\n      style={{\r\n        border: \"1px solid black\",\r\n        minHeight: \"900px\",\r\n        position: \"relative\",\r\n      }}\r\n    >\r\n      <Shapes\r\n        canvasItems={canvasItems}\r\n        setSelectedShapeId={setSelectedShapeId}\r\n        selectedShapeId={selectedShapeId}\r\n        updatePosition={updatePosition}\r\n        handleDragStart={handleDragStart}\r\n        handleDragEnd={handleDragEnd}\r\n      />\r\n      <DocumentViewer uri={uri} isDragging={isDraggingFromLibrary} />\r\n    </div>\r\n  );\r\n};\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}