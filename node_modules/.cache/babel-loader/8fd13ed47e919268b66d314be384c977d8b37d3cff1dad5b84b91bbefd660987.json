{"ast":null,"code":"var _jsxFileName = \"D:\\\\rikkei\\\\bearcle\\\\React Typescript\\\\react-ts-file\\\\src\\\\contexts\\\\DraggableContext.tsx\",\n  _s = $RefreshSig$(),\n  _s2 = $RefreshSig$();\nimport { useContext, useState, createContext } from \"react\";\n\n// context cho tính năng kéo thả\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst DraggableContext = /*#__PURE__*/createContext(null);\n// custom hook để truy cập vào giá trị của Draggble context\nexport const useDraggble = () => {\n  _s();\n  return useContext(DraggableContext);\n};\n// component để chia sẻ logic và state liên quan tới kéo thả\n_s(useDraggble, \"gDsCjeeItUuvgOWf1v4qoK9RF6k=\");\nexport const DraggableProvider = ({\n  children\n}) => {\n  _s2();\n  const [position, setPosition] = useState({\n    x: 0,\n    y: 0\n  });\n  // hàm xử lý khi việc kéo kết thúc\n  const handleStop = (e, data) => {\n    // lấy phần tử canvas từ DOM\n    const canvas = document.getElementById(\"canvas\");\n    // lấy thông tin vị trí và kích thước của canvas\n    // xác đinh xem hình đang đc kéo hay thả vào canvas hay không\n    const canvasRect = canvas.getBoundingClientRect();\n    //lấy thông tin về vị trí và kích thước hình đang được kéo\n    const itemRect = e.target.getBoundingClientRect();\n\n    // kiểm tra xem hình có nằm ngoài canvas không\n    if (itemRect.left < canvasRect.left || itemRect.right > canvasRect.right || itemRect.top < canvasRect.top || itemRect.bottom > canvasRect.bottom) {\n      setPosition({\n        x: 0,\n        y: 0\n      });\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(DraggableContext.Provider, {\n    value: {\n      position,\n      handleStop\n    },\n    children: children\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 37,\n    columnNumber: 5\n  }, this);\n};\n_s2(DraggableProvider, \"0qniUPJTLf8/oonUDLg0GM42ieg=\");\n_c = DraggableProvider;\nvar _c;\n$RefreshReg$(_c, \"DraggableProvider\");","map":{"version":3,"names":["useContext","useState","createContext","jsxDEV","_jsxDEV","DraggableContext","useDraggble","_s","DraggableProvider","children","_s2","position","setPosition","x","y","handleStop","e","data","canvas","document","getElementById","canvasRect","getBoundingClientRect","itemRect","target","left","right","top","bottom","Provider","value","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["D:/rikkei/bearcle/React Typescript/react-ts-file/src/contexts/DraggableContext.tsx"],"sourcesContent":["import { useContext, useState, createContext } from \"react\";\r\n\r\n// context cho tính năng kéo thả\r\ntype DraggableContextType = {\r\n  position: { x: number; y: number };\r\n  handleStop: (e: any, data: any) => void;\r\n};\r\nconst DraggableContext = createContext<DraggableContextType | null>(null);\r\n// custom hook để truy cập vào giá trị của Draggble context\r\nexport const useDraggble = () => {\r\n  return useContext(DraggableContext);\r\n};\r\n// component để chia sẻ logic và state liên quan tới kéo thả\r\nexport const DraggableProvider = ({ children }) => {\r\n  const [position, setPosition] = useState({ x: 0, y: 0 });\r\n  // hàm xử lý khi việc kéo kết thúc\r\n  const handleStop = (e, data) => {\r\n    // lấy phần tử canvas từ DOM\r\n    const canvas = document.getElementById(\"canvas\");\r\n    // lấy thông tin vị trí và kích thước của canvas\r\n    // xác đinh xem hình đang đc kéo hay thả vào canvas hay không\r\n    const canvasRect = canvas.getBoundingClientRect();\r\n    //lấy thông tin về vị trí và kích thước hình đang được kéo\r\n    const itemRect = e.target.getBoundingClientRect();\r\n\r\n    // kiểm tra xem hình có nằm ngoài canvas không\r\n    if (\r\n      itemRect.left < canvasRect.left ||\r\n      itemRect.right > canvasRect.right ||\r\n      itemRect.top < canvasRect.top ||\r\n      itemRect.bottom > canvasRect.bottom\r\n    ) {\r\n      setPosition({ x: 0, y: 0 });\r\n    }\r\n  };\r\n  return (\r\n    <DraggableContext.Provider value={{ position, handleStop }}>\r\n      {children}\r\n    </DraggableContext.Provider>\r\n  );\r\n};\r\n"],"mappings":";;;AAAA,SAASA,UAAU,EAAEC,QAAQ,EAAEC,aAAa,QAAQ,OAAO;;AAE3D;AAAA,SAAAC,MAAA,IAAAC,OAAA;AAKA,MAAMC,gBAAgB,gBAAGH,aAAa,CAA8B,IAAI,CAAC;AACzE;AACA,OAAO,MAAMI,WAAW,GAAGA,CAAA,KAAM;EAAAC,EAAA;EAC/B,OAAOP,UAAU,CAACK,gBAAgB,CAAC;AACrC,CAAC;AACD;AAAAE,EAAA,CAHaD,WAAW;AAIxB,OAAO,MAAME,iBAAiB,GAAGA,CAAC;EAAEC;AAAS,CAAC,KAAK;EAAAC,GAAA;EACjD,MAAM,CAACC,QAAQ,EAAEC,WAAW,CAAC,GAAGX,QAAQ,CAAC;IAAEY,CAAC,EAAE,CAAC;IAAEC,CAAC,EAAE;EAAE,CAAC,CAAC;EACxD;EACA,MAAMC,UAAU,GAAGA,CAACC,CAAC,EAAEC,IAAI,KAAK;IAC9B;IACA,MAAMC,MAAM,GAAGC,QAAQ,CAACC,cAAc,CAAC,QAAQ,CAAC;IAChD;IACA;IACA,MAAMC,UAAU,GAAGH,MAAM,CAACI,qBAAqB,CAAC,CAAC;IACjD;IACA,MAAMC,QAAQ,GAAGP,CAAC,CAACQ,MAAM,CAACF,qBAAqB,CAAC,CAAC;;IAEjD;IACA,IACEC,QAAQ,CAACE,IAAI,GAAGJ,UAAU,CAACI,IAAI,IAC/BF,QAAQ,CAACG,KAAK,GAAGL,UAAU,CAACK,KAAK,IACjCH,QAAQ,CAACI,GAAG,GAAGN,UAAU,CAACM,GAAG,IAC7BJ,QAAQ,CAACK,MAAM,GAAGP,UAAU,CAACO,MAAM,EACnC;MACAhB,WAAW,CAAC;QAAEC,CAAC,EAAE,CAAC;QAAEC,CAAC,EAAE;MAAE,CAAC,CAAC;IAC7B;EACF,CAAC;EACD,oBACEV,OAAA,CAACC,gBAAgB,CAACwB,QAAQ;IAACC,KAAK,EAAE;MAAEnB,QAAQ;MAAEI;IAAW,CAAE;IAAAN,QAAA,EACxDA;EAAQ;IAAAsB,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACgB,CAAC;AAEhC,CAAC;AAACxB,GAAA,CA3BWF,iBAAiB;AAAA2B,EAAA,GAAjB3B,iBAAiB;AAAA,IAAA2B,EAAA;AAAAC,YAAA,CAAAD,EAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}