{"ast":null,"code":"var _jsxFileName = \"D:\\\\rikkei\\\\bearcle\\\\React Typescript\\\\react-ts-file\\\\src\\\\components\\\\Canvas.tsx\",\n  _s = $RefreshSig$();\nimport React from \"react\";\nimport { useDraggable } from \"../contexts/DraggableContext\";\nimport { DraggableItem } from \"./Generals/DraggableItem\";\nimport Draggable from 'react-draggable';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport const Canvas = () => {\n  _s();\n  const {\n    canvasItems,\n    addItemToCanvas\n  } = useDraggable();\n  const handleDrop = e => {\n    e.preventDefault();\n    const type = e.dataTransfer.getData(\"type\");\n    const canvasRect = e.currentTarget.getBoundingClientRect();\n    const position = {\n      x: e.clientX - canvasRect.left,\n      y: e.clientY - canvasRect.top\n    };\n    addItemToCanvas({\n      type,\n      id: Date.now()\n    }, position);\n  };\n  const handleDragOver = e => {\n    e.preventDefault();\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    onDrop: handleDrop,\n    onDragOver: handleDragOver,\n    style: {\n      border: \"1px solid black\",\n      minHeight: \"400px\",\n      position: \"relative\"\n    },\n    children: canvasItems.map(item => /*#__PURE__*/_jsxDEV(Draggable, {\n      position: {\n        x: item.position.x,\n        y: item.position.y\n      },\n      onStop: (e, data) => {\n        // Cập nhật vị trí mới của hình sau khi di chuyển\n        // Bạn cần thêm logic để cập nhật trạng thái tại đây\n      },\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        children: /*#__PURE__*/_jsxDEV(DraggableItem, {\n          type: item.type,\n          style: {\n            position: 'absolute'\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 43,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 42,\n        columnNumber: 9\n      }, this)\n    }, item.id, false, {\n      fileName: _jsxFileName,\n      lineNumber: 34,\n      columnNumber: 7\n    }, this))\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 24,\n    columnNumber: 5\n  }, this);\n};\n_s(Canvas, \"g1G+ay/pZB+47JRGKa+NUT3SGMg=\", false, function () {\n  return [useDraggable];\n});\n_c = Canvas;\nvar _c;\n$RefreshReg$(_c, \"Canvas\");","map":{"version":3,"names":["React","useDraggable","DraggableItem","Draggable","jsxDEV","_jsxDEV","Canvas","_s","canvasItems","addItemToCanvas","handleDrop","e","preventDefault","type","dataTransfer","getData","canvasRect","currentTarget","getBoundingClientRect","position","x","clientX","left","y","clientY","top","id","Date","now","handleDragOver","onDrop","onDragOver","style","border","minHeight","children","map","item","onStop","data","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["D:/rikkei/bearcle/React Typescript/react-ts-file/src/components/Canvas.tsx"],"sourcesContent":["import React, { DragEvent } from \"react\";\r\nimport { useDraggable } from \"../contexts/DraggableContext\";\r\nimport { DraggableItem } from \"./Generals/DraggableItem\";\r\nimport { ShapeType } from \"../contexts/DraggableContext\";\r\nimport Draggable from 'react-draggable';\r\nexport const Canvas = () => {\r\n  const { canvasItems, addItemToCanvas } = useDraggable();\r\n  const handleDrop = (e: React.DragEvent<HTMLDivElement>) => {\r\n    e.preventDefault();\r\n    const type = e.dataTransfer.getData(\"type\") as ShapeType;\r\n    const canvasRect = e.currentTarget.getBoundingClientRect();\r\n    const position = {\r\n      x: e.clientX - canvasRect.left,\r\n      y: e.clientY - canvasRect.top\r\n    };\r\n    addItemToCanvas({ type, id: Date.now() }, position);\r\n  };\r\n  const handleDragOver = (e: React.DragEvent<HTMLDivElement>) => {\r\n    e.preventDefault();\r\n  };\r\n  \r\n\r\n  return (\r\n    <div\r\n    onDrop={handleDrop}\r\n    onDragOver={handleDragOver}\r\n    style={{\r\n      border: \"1px solid black\",\r\n      minHeight: \"400px\",\r\n      position: \"relative\",\r\n    }}\r\n  >\r\n    {canvasItems.map((item) => (\r\n      <Draggable\r\n        key={item.id}\r\n        position={{ x: item.position.x, y: item.position.y }}\r\n        onStop={(e, data) => {\r\n          // Cập nhật vị trí mới của hình sau khi di chuyển\r\n          // Bạn cần thêm logic để cập nhật trạng thái tại đây\r\n        }}\r\n      >\r\n        <div>\r\n          <DraggableItem \r\n            type={item.type} \r\n            style={{ position: 'absolute' }}\r\n          />\r\n        </div>\r\n      </Draggable>\r\n    ))}\r\n  </div>\r\n  \r\n  );\r\n};\r\n"],"mappings":";;AAAA,OAAOA,KAAK,MAAqB,OAAO;AACxC,SAASC,YAAY,QAAQ,8BAA8B;AAC3D,SAASC,aAAa,QAAQ,0BAA0B;AAExD,OAAOC,SAAS,MAAM,iBAAiB;AAAC,SAAAC,MAAA,IAAAC,OAAA;AACxC,OAAO,MAAMC,MAAM,GAAGA,CAAA,KAAM;EAAAC,EAAA;EAC1B,MAAM;IAAEC,WAAW;IAAEC;EAAgB,CAAC,GAAGR,YAAY,CAAC,CAAC;EACvD,MAAMS,UAAU,GAAIC,CAAkC,IAAK;IACzDA,CAAC,CAACC,cAAc,CAAC,CAAC;IAClB,MAAMC,IAAI,GAAGF,CAAC,CAACG,YAAY,CAACC,OAAO,CAAC,MAAM,CAAc;IACxD,MAAMC,UAAU,GAAGL,CAAC,CAACM,aAAa,CAACC,qBAAqB,CAAC,CAAC;IAC1D,MAAMC,QAAQ,GAAG;MACfC,CAAC,EAAET,CAAC,CAACU,OAAO,GAAGL,UAAU,CAACM,IAAI;MAC9BC,CAAC,EAAEZ,CAAC,CAACa,OAAO,GAAGR,UAAU,CAACS;IAC5B,CAAC;IACDhB,eAAe,CAAC;MAAEI,IAAI;MAAEa,EAAE,EAAEC,IAAI,CAACC,GAAG,CAAC;IAAE,CAAC,EAAET,QAAQ,CAAC;EACrD,CAAC;EACD,MAAMU,cAAc,GAAIlB,CAAkC,IAAK;IAC7DA,CAAC,CAACC,cAAc,CAAC,CAAC;EACpB,CAAC;EAGD,oBACEP,OAAA;IACAyB,MAAM,EAAEpB,UAAW;IACnBqB,UAAU,EAAEF,cAAe;IAC3BG,KAAK,EAAE;MACLC,MAAM,EAAE,iBAAiB;MACzBC,SAAS,EAAE,OAAO;MAClBf,QAAQ,EAAE;IACZ,CAAE;IAAAgB,QAAA,EAED3B,WAAW,CAAC4B,GAAG,CAAEC,IAAI,iBACpBhC,OAAA,CAACF,SAAS;MAERgB,QAAQ,EAAE;QAAEC,CAAC,EAAEiB,IAAI,CAAClB,QAAQ,CAACC,CAAC;QAAEG,CAAC,EAAEc,IAAI,CAAClB,QAAQ,CAACI;MAAE,CAAE;MACrDe,MAAM,EAAEA,CAAC3B,CAAC,EAAE4B,IAAI,KAAK;QACnB;QACA;MAAA,CACA;MAAAJ,QAAA,eAEF9B,OAAA;QAAA8B,QAAA,eACE9B,OAAA,CAACH,aAAa;UACZW,IAAI,EAAEwB,IAAI,CAACxB,IAAK;UAChBmB,KAAK,EAAE;YAAEb,QAAQ,EAAE;UAAW;QAAE;UAAAqB,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACjC;MAAC;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACC;IAAC,GAZDN,IAAI,CAACX,EAAE;MAAAc,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAaH,CACZ;EAAC;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACC,CAAC;AAGR,CAAC;AAACpC,EAAA,CA/CWD,MAAM;EAAA,QACwBL,YAAY;AAAA;AAAA2C,EAAA,GAD1CtC,MAAM;AAAA,IAAAsC,EAAA;AAAAC,YAAA,CAAAD,EAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}